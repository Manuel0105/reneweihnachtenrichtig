<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÑ Weihnachts-√úberraschung f√ºr Rene</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a1a;
            color: #333;
            overflow: hidden;
            transition: background 0.5s;
        }

        /* ------------------------------------------- */
        /* PHASE 0: FULLSCREEN OVERLAY */
        /* ------------------------------------------- */
        #fullscreen-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: #fff;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 20000; text-align: center; padding: 20px;
        }

        #fs-btn {
            margin-top: 30px; padding: 15px 30px; font-size: 1.5em;
            background: #27ae60; color: white; border: 2px solid #fff;
            cursor: pointer; border-radius: 5px; animation: pulse 2s infinite;
        }

        /* ------------------------------------------- */
        /* PHASE 1: CHRISTMAS THEME */
        /* ------------------------------------------- */
        #xmas-container {
            display: none;
            max-width: 800px; margin: 60px auto; padding: 40px;
            background: #fff; border-radius: 15px;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.3);
            text-align: center; position: relative; z-index: 10;
            border: 4px solid #c0392b;
        }

        body.xmas-bg {
            background: #2c3e50;
            background-image: radial-gradient(circle at 50% 50%, #2c3e50 0%, #000 100%);
        }

        /* Schneefall (CSS Only) */
        .snowflake {
            color: #fff; font-size: 1em; position: fixed; top: -10%; z-index: 1;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-duration: 10s, 3s;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
        }
        @keyframes snowflakes-fall { 0% { top: -10%; } 100% { top: 100%; } }
        @keyframes snowflakes-shake { 0% { transform: translateX(0px); } 50% { transform: translateX(80px); } 100% { transform: translateX(0px); } }

        .xmas-btn {
            background: #c0392b; color: white; font-size: 1.5em;
            padding: 15px 40px; border: none; border-radius: 50px;
            cursor: pointer; margin-top: 20px; box-shadow: 0 5px 0 #922b21;
        }

        /* ------------------------------------------- */
        /* PHASE 2: SCAM MODE (Demon Slayer) */
        /* ------------------------------------------- */
        #scam-container {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 5000;
            overflow-y: auto;
            text-align: center;
            font-family: 'Comic Sans MS', cursive;
        }

        body.scam-mode {
            background: linear-gradient(45deg, #ff00ff, #00ffff, #ff00ff);
            background-size: 400% 400%;
            animation: gradientShift 2s ease infinite;
        }
        @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .scam-box {
            background: yellow; border: 5px solid red;
            max-width: 700px; margin: 50px auto; padding: 20px;
            transform: rotate(-1deg);
        }

        .scam-img {
            max-width: 100%; border: 5px solid #ff1493;
            box-shadow: 0 0 20px black; margin: 20px 0;
        }

        .blink { animation: blinker 0.5s linear infinite; color: red; font-weight: bold; font-size: 1.5em; }
        @keyframes blinker { 50% { opacity: 0; } }

        /* ------------------------------------------- */
        /* PHASE 3: RICKROLL & MOVING BUTTON */
        /* ------------------------------------------- */
        #rickroll-section {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 6000;
        }
        #rickroll-video { width: 100%; height: 100%; object-fit: cover; }
        
        #moving-button {
            position: absolute; padding: 20px 40px;
            background: #ff00ff; color: white; font-weight: bold; font-size: 1.5em;
            border: 3px solid white; cursor: pointer; z-index: 6001;
            white-space: nowrap; transition: all 0.3s ease; /* Weicher & langsamer */
            top: 50%; left: 50%; transform: translate(-50%, -50%);
        }

        /* ------------------------------------------- */
        /* PHASE 4: VIRUS / HACKING */
        /* ------------------------------------------- */
        #virus-section {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: #ff0000; font-family: 'Courier New', monospace;
            z-index: 7000; padding: 30px; text-align: center;
        }

        .virus-red-bg { animation: redFlash 2s infinite; }
        @keyframes redFlash { 0%,100% {background:#000;} 50% {background:#300;} }

        #progress-container {
            width: 80%; height: 30px; background: #333; margin: 20px auto;
            border: 2px solid red;
        }
        #progress-bar { width: 0%; height: 100%; background: red; }

        /* R√ÑTSEL INPUT */
        #riddle-container {
            display: none; margin-top: 30px; border: 2px solid yellow;
            padding: 20px; background: rgba(20, 20, 0, 0.9);
        }
        #virus-input {
            background: black; border: 1px solid lime; color: lime;
            font-size: 1.5em; padding: 10px; font-family: monospace;
            width: 300px; text-align: center; margin-top: 10px;
        }
        #riddle-btn {
            background: red; color: white; border: none; padding: 10px 20px;
            font-size: 1.2em; cursor: pointer; margin-left: 10px;
        }

        /* MASH BUTTON */
        #emergency-override {
            display: none; margin-top: 30px; border: 5px dashed yellow;
            padding: 20px; background: #220;
        }
        #mash-button {
            width: 180px; height: 180px; border-radius: 50%;
            background: radial-gradient(circle, #ff5555 0%, #990000 100%);
            border: 5px solid #fff; color: white; font-size: 1.3em;
            font-weight: bold; cursor: pointer; box-shadow: 0 0 20px red;
            transition: transform 0.05s;
        }
        #mash-button:active { transform: scale(0.95); }
        #force-bar-container { width: 50%; height: 15px; background: #333; margin: 10px auto; }
        #force-bar { width: 0%; height: 100%; background: yellow; }

        /* ------------------------------------------- */
        /* PHASE 5: TERMINAL */
        /* ------------------------------------------- */
        #terminal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: #0f0; font-family: 'Courier New', monospace;
            padding: 20px; overflow-y: auto; z-index: 8000; text-align: left;
        }
        .terminal-line { margin: 5px 0; }
        #terminal-input {
            background: transparent; border: none; color: #0f0;
            font-family: 'Courier New', monospace; font-size: 1.2em;
            outline: none; width: 80%;
        }

        /* ------------------------------------------- */
        /* PHASE 6: FINAL */
        /* ------------------------------------------- */
        #final-message {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white; justify-content: center; align-items: center;
            flex-direction: column; text-align: center; z-index: 9000;
        }

    </style>
</head>
<body class="xmas-bg">

    <div id="fullscreen-overlay">
        <h1>‚ö†Ô∏è WICHTIGER HINWEIS ‚ö†Ô∏è</h1>
        <p>F√ºr das beste Erlebnis ist Vollbildmodus erforderlich.</p>
        <p>Bitte dr√ºcke F11 oder klicke unten.</p>
        <button id="fs-btn" onclick="enterFullscreen()">STARTEN</button>
    </div>

    <div class="snowflake" style="left: 10%">‚ùÑ</div>
    <div class="snowflake" style="left: 50%; animation-delay: 2s">‚ùÜ</div>
    <div class="snowflake" style="left: 80%; animation-delay: 4s">‚ùÖ</div>

    <div id="xmas-container">
        <h1 style="color: #c0392b; font-size: 3em;">üéÑ Frohe Weihnachten, Rene! üéÑ</h1>
        <div style="background: #27ae60; padding: 30px; border-radius: 10px; color: white; margin-top: 20px; border: 2px dashed gold;">
            <h2>Ein Geschenk vom Weihnachtsmann üéÖ</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">
                Komm n√§her... ich habe etwas Besonderes f√ºr dich hochgeladen.
            </p>
            <button class="xmas-btn" onclick="showScamPage()">üéÅ GESCHENK AUSPACKEN</button>
        </div>
    </div>

    <div id="scam-container">
        <div style="background:red; color:yellow; font-size:2em; font-weight:bold;">
            <marquee>$$$ WINNER WINNER CHICKEN DINNER $$$ FREE DOWNLOAD $$$</marquee>
        </div>
        <div class="scam-box">
            <h1>CONGRATULATIONS USER!!!</h1>
            <p style="font-size: 1.5em;">YOU WON THE EXCLUSIVE<br>‚ú® DEMON SLAYER WAIFU COLLECTION ‚ú®</p>
            <p class="blink">CLICK BELOW TO CLAIM NOW!!!</p>
            
            <img src="https://i.pinimg.com/originals/fd/7d/db/fd7ddb0ee34750e1e4ede5308a51b6c2.jpg" class="scam-img" alt="Scam">
            <br>
            <button onclick="startRickroll()" style="background: #00ff00; color: blue; font-size: 2em; font-weight: bold; border: 5px solid blue; padding: 20px; cursor: pointer; font-family: 'Comic Sans MS'; box-shadow: 10px 10px 0 black;">
                ‚¨áÔ∏è DOWNLOAD NOW (100% SAFE) ‚¨áÔ∏è
            </button>
        </div>
    </div>

    <div id="rickroll-section">
        <video id="rickroll-video" loop>
            <source src="rickroll.mp4" type="video/mp4">
        </video>
        <button id="moving-button" onclick="triggerVirusClick()">
            WEITER ZUM GESCHENK
        </button>
    </div>

    <div id="virus-section">
        <h1 style="font-size: 3em; margin-bottom: 20px;">‚ö†Ô∏è KRITISCHER FEHLER ‚ö†Ô∏è</h1>
        <div style="border: 4px solid red; padding: 20px; background: rgba(50,0,0,0.8);">
            <h2 class="blink">PC NICHT AUSSCHALTEN! DATENVERLUST DROHT!</h2>
            <h3 style="color: #ff5555; margin-top: 10px;">L√∂sche Steam-Bibliothek...</h3>
        </div>
        
        <div id="progress-container">
            <div id="progress-bar"></div>
        </div>
        <p id="virus-status">C:/Program Files/Steam/steamapps/common wird formatiert...</p>

        <div id="riddle-container">
            <h2 style="color: yellow;">SYSTEM√úBERHITZUNG - K√úHLUNG DEFEKT</h2>
            <p style="margin: 10px 0; font-size: 1.2em;">
                Um den L√∂schvorgang zu stoppen, gib den Objekt-Code ein.<br>
                <strong>R√ÑTSEL:</strong><br>
                "Ich habe vier Beine, kann aber nicht laufen.<br>
                Ich habe einen R√ºcken, aber keine Wirbels√§ule.<br>
                Ich w√§rme dich und massiere dich, w√§hrend du verlierst."
            </p>
            <input type="text" id="virus-input" placeholder="Was bin ich?" onkeypress="handleRiddleKey(event)">
            <button id="riddle-btn" onclick="checkRiddle()">STOPP</button>
            <p id="riddle-error" style="color: red; display: none; margin-top: 10px;">ZUGRIFF VERWEIGERT. FALSCHES OBJEKT.</p>
        </div>

        <div id="emergency-override">
            <h2 style="color: yellow;">CODE AKZEPTIERT!</h2>
            <p>MANUELLER NEUSTART ERFORDERLICH.</p>
            <p><strong>H√ÑMMERE DEN KNOPF!</strong></p>
            <button id="mash-button" onclick="mashButton()">NOT-AUS<br>DR√úCKEN!</button>
            <div id="force-bar-container"><div id="force-bar"></div></div>
        </div>
    </div>

    <div id="terminal">
        <div id="terminal-content"></div>
        <span id="prompt" style="display:none;">&gt; <input type="text" id="terminal-input" autofocus></span>
    </div>

    <div id="final-message">
        <h1>‚úÖ SYSTEM WIEDERHERGESTELLT</h1>
        <p style="font-size: 1.5em; margin: 20px;">Die Steam-Bibliothek ist sicher.</p>
        <p>Du hast es dir wirklich verdient.</p>
        <div style="border: 2px solid white; padding: 30px; margin-top: 30px; border-radius: 10px; background: rgba(255,255,255,0.1);">
            <h2>üéÅ DEIN GESCHENK üéÅ</h2>
            <p style="font-size: 2em; font-weight: bold; margin-top: 20px; animation: pulse 1s infinite;">
                üëá SCHAU UNTER DEINEN STUHL üëá
            </p>
        </div>
    </div>

    <script>
        // --- 0. START ---
        function enterFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen().catch(err => console.log(err));
            document.getElementById('fullscreen-overlay').style.display = 'none';
            document.getElementById('xmas-container').style.display = 'block';
        }

        // --- 1. XMAS -> SCAM ---
        function showScamPage() {
            document.getElementById('xmas-container').style.display = 'none';
            document.body.classList.remove('xmas-bg');
            document.body.classList.add('scam-mode');
            document.getElementById('scam-container').style.display = 'block';
        }

        // --- 2. SCAM -> RICKROLL ---
        let btnInterval;
        let isBtnClickable = false;

        function startRickroll() {
            document.getElementById('scam-container').style.display = 'none';
            document.getElementById('rickroll-section').style.display = 'block';
            
            const video = document.getElementById('rickroll-video');
            video.muted = false;
            video.play().catch(() => { video.muted = true; video.play(); });

            const btn = document.getElementById('moving-button');
            
            // 10 Sekunden warten bis klickbar (aber Button bewegt sich schon)
            setTimeout(() => {
                isBtnClickable = true;
                // Visuell keine √Ñnderung gefordert ("Soll nicht gesperrt dran stehen")
            }, 10000);

            // Bewegung starten (Langsamer: alle 400ms statt 50ms)
            btnInterval = setInterval(() => {
                // Button bewegt sich immer weiter, auch nach den 10s
                const maxX = window.innerWidth - 200;
                const maxY = window.innerHeight - 80;
                
                const newX = Math.random() * maxX;
                const newY = Math.random() * maxY;
                
                btn.style.left = newX + 'px';
                btn.style.top = newY + 'px';
                btn.style.transform = 'none'; // Zentrierung aufheben f√ºr absolute pos
            }, 400); 
        }

        function triggerVirusClick() {
            if (!isBtnClickable) return; // Tut nichts in den ersten 10s
            
            clearInterval(btnInterval);
            document.getElementById('rickroll-video').pause();
            document.getElementById('rickroll-section').style.display = 'none';
            
            triggerVirus();
        }

        // --- 3. VIRUS & R√ÑTSEL ---
        function triggerVirus() {
            document.body.classList.remove('scam-mode');
            document.getElementById('virus-section').classList.add('virus-red-bg');
            document.getElementById('virus-section').style.display = 'block';
            
            runProgress();
        }

        function runProgress() {
            const bar = document.getElementById('progress-bar');
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 87) {
                    clearInterval(interval);
                    // STOP & ZEIGE R√ÑTSEL
                    document.getElementById('virus-status').textContent = "SYSTEM√úBERHITZUNG! K√úHLUNG ERFORDERLICH!";
                    document.getElementById('virus-status').classList.add('blink');
                    document.getElementById('riddle-container').style.display = 'block';
                    createPopup("WARNUNG: CPU TEMP 99¬∞C");
                    createPopup("WARNUNG: GPU MELTDOWN");
                } else {
                    width += 0.5;
                    bar.style.width = width + '%';
                    if(Math.floor(width) % 10 === 0) createPopup("L√ñSCHE DATEIEN...");
                }
            }, 100);
        }

        function createPopup(text) {
            const pop = document.createElement('div');
            pop.style.position = 'fixed';
            pop.style.left = Math.random() * 80 + '%';
            pop.style.top = Math.random() * 80 + '%';
            pop.style.background = 'white';
            pop.style.border = '2px solid red';
            pop.style.padding = '5px';
            pop.style.zIndex = 7500;
            pop.style.color = 'black';
            pop.style.fontWeight = 'bold';
            pop.innerText = text;
            document.body.appendChild(pop);
            setTimeout(() => pop.remove(), 1500);
        }

        // R√ÑTSEL LOGIK
        function handleRiddleKey(e) {
            if (e.key === 'Enter') checkRiddle();
        }

        function checkRiddle() {
            const val = document.getElementById('virus-input').value.toLowerCase();
            const valid = ["stuhl", "sessel", "chair", "gaming stuhl", "gamingstuhl", "gaming-stuhl"];
            
            if (valid.some(v => val.includes(v))) {
                // Correct
                document.getElementById('riddle-container').style.display = 'none';
                document.getElementById('emergency-override').style.display = 'block';
            } else {
                // Wrong
                document.getElementById('riddle-error').style.display = 'block';
                createPopup("FALSCHES PASSWORT");
            }
        }

        // MASH BUTTON LOGIK
        let mashCount = 0;
        const mashTarget = 15;
        
        function mashButton() {
            mashCount++;
            const pct = (mashCount / mashTarget) * 100;
            document.getElementById('force-bar').style.width = pct + '%';
            
            // Wackel Effekt
            const btn = document.getElementById('mash-button');
            btn.style.transform = `translate(${(Math.random()-0.5)*10}px, ${(Math.random()-0.5)*10}px)`;

            if (mashCount >= mashTarget) {
                startTerminal();
            }
        }
        
        // Decay
        setInterval(() => {
            if (mashCount > 0 && mashCount < mashTarget) {
                mashCount -= 0.5;
                document.getElementById('force-bar').style.width = (mashCount/mashTarget)*100 + '%';
            }
        }, 200);


        // --- 4. TERMINAL ---
        const questions = [
            { q: "Wie gro√ü ist Sophia?", a: ["1,74", "174", "1.74"], h: "Metrisches System." },
            { q: "Was ist Sophias Lieblings-Trash-TV-Serie?", a: ["temptation"], h: "Versuchung..." },
            { q: "Welche Haarfarbe hatte Sophia, als ihr euch traft?", a: ["lila", "violett", "purple"], h: "Nicht blond, nicht braun." }
        ];
        let qIdx = 0;
        const tContent = document.getElementById('terminal-content');
        const tInput = document.getElementById('terminal-input');

        async function startTerminal() {
            document.getElementById('virus-section').style.display = 'none';
            document.querySelectorAll('div[style*="zIndex = 7500"]').forEach(e => e.remove());
            document.getElementById('terminal').style.display = 'block';
            
            await typeLine("REBOOT SYSTEM...");
            await new Promise(r => setTimeout(r, 500));
            await typeLine("STEAM DATEN... GERETTET.");
            await typeLine("STARTE IDENTIT√ÑTSPR√úFUNG.");
            await typeLine("");
            askQ();
        }

        function typeLine(text) {
            return new Promise(resolve => {
                const div = document.createElement('div');
                div.className = 'terminal-line';
                tContent.appendChild(div);
                let i = 0;
                const int = setInterval(() => {
                    if (i < text.length) { div.textContent += text[i]; i++; }
                    else { clearInterval(int); resolve(); }
                }, 20);
            });
        }

        function askQ() {
            if (qIdx >= questions.length) {
                document.getElementById('terminal').style.display = 'none';
                document.getElementById('final-message').style.display = 'flex';
                return;
            }
            typeLine(`FRAGE ${qIdx+1}: ${questions[qIdx].q}`).then(() => {
                document.getElementById('prompt').style.display = 'inline';
                tInput.value = ''; tInput.focus();
            });
        }

        tInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const val = tInput.value.trim().toLowerCase();
                const q = questions[qIdx];
                document.getElementById('prompt').style.display = 'none';
                typeLine(`> ${tInput.value}`);
                
                if (q.a.some(ans => val.includes(ans))) {
                    typeLine("KORREKT.").then(() => { qIdx++; setTimeout(askQ, 500); });
                } else {
                    typeLine(`FALSCH. TIPP: ${q.h}`).then(() => { setTimeout(askQ, 1000); });
                }
            }
        });
    </script>
</body>
</html>